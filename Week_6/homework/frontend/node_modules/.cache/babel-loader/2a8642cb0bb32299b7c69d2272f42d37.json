{"ast":null,"code":"var _jsxFileName = \"/Users/zarashipchandler/git_dir/TPEO/Week_6/homework/frontend/src/components/Login/Login.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { auth, firebase } from \"../firebase/firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginLink() {\n  _s();\n\n  const history = useHistory();\n\n  async function googleLogin() {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    await auth.signInWithPopup(provider).then(async result => {\n      var _auth$currentUser;\n\n      const token = await (auth === null || auth === void 0 ? void 0 : (_auth$currentUser = auth.currentUser) === null || _auth$currentUser === void 0 ? void 0 : _auth$currentUser.getIdToken(true));\n\n      if (token) {\n        localStorage.setItem(\"@token\", token);\n        history.push(\"./\");\n      }\n    }, function (error) {\n      console.log(error);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: googleLogin,\n      className: \"button\",\n      children: \"Google\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }, this);\n}\n\n_s(LoginLink, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c = LoginLink;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginLink\");","map":{"version":3,"sources":["/Users/zarashipchandler/git_dir/TPEO/Week_6/homework/frontend/src/components/Login/Login.js"],"names":["React","useHistory","auth","firebase","LoginLink","history","googleLogin","provider","GoogleAuthProvider","signInWithPopup","then","result","token","currentUser","getIdToken","localStorage","setItem","push","error","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,sBAA/B;;AAEA,eAAe,SAASC,SAAT,GAAqB;AAAA;;AAChC,QAAMC,OAAO,GAAGJ,UAAU,EAA1B;;AACA,iBAAeK,WAAf,GAA6B;AACzB,UAAMC,QAAQ,GAAG,IAAIJ,QAAQ,CAACD,IAAT,CAAcM,kBAAlB,EAAjB;AACA,UAAMN,IAAI,CAACO,eAAL,CAAqBF,QAArB,EAA+BG,IAA/B,CACF,MAAOC,MAAP,IAAkB;AAAA;;AACd,YAAMC,KAAK,GAAG,OAAMV,IAAN,aAAMA,IAAN,4CAAMA,IAAI,CAAEW,WAAZ,sDAAM,kBAAmBC,UAAnB,CAA8B,IAA9B,CAAN,CAAd;;AACA,UAAIF,KAAJ,EAAW;AACPG,QAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BJ,KAA/B;AACAP,QAAAA,OAAO,CAACY,IAAR,CAAa,IAAb;AACH;AACJ,KAPC,EAQF,UAAUC,KAAV,EAAiB;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAVC,CAAN;AAYH;;AAED,sBACI;AAAA,2BACI;AAAQ,MAAA,OAAO,EAAEZ,WAAjB;AAA8B,MAAA,SAAS,EAAC,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH;;GAvBuBF,S;UACJH,U;;;KADIG,S","sourcesContent":["import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { auth, firebase } from \"../firebase/firebase\";\n\nexport default function LoginLink() {\n    const history = useHistory();\n    async function googleLogin() {\n        const provider = new firebase.auth.GoogleAuthProvider();\n        await auth.signInWithPopup(provider).then (\n            async (result) => {\n                const token = await auth?.currentUser?.getIdToken(true);\n                if (token) {\n                    localStorage.setItem(\"@token\", token);\n                    history.push(\"./\");\n                }\n            },\n            function (error) {\n                console.log(error);\n            }\n        );\n    }\n\n    return (\n        <div>\n            <button onClick={googleLogin} className=\"button\">Google</button>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}