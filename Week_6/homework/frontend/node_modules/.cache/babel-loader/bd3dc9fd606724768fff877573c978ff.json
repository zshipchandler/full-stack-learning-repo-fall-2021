{"ast":null,"code":"/*! firebase-admin v10.0.0 */\n\"use strict\";\n/*!\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Tenant = void 0;\n\nvar validator = require(\"../utils/validator\");\n\nvar deep_copy_1 = require(\"../utils/deep-copy\");\n\nvar error_1 = require(\"../utils/error\");\n\nvar auth_config_1 = require(\"./auth-config\");\n/**\n * Represents a tenant configuration.\n *\n * Multi-tenancy support requires Google Cloud's Identity Platform\n * (GCIP). To learn more about GCIP, including pricing and features,\n * see the {@link https://cloud.google.com/identity-platform | GCIP documentation}.\n *\n * Before multi-tenancy can be used on a Google Cloud Identity Platform project,\n * tenants must be allowed on that project via the Cloud Console UI.\n *\n * A tenant configuration provides information such as the display name, tenant\n * identifier and email authentication configuration.\n * For OIDC/SAML provider configuration management, `TenantAwareAuth` instances should\n * be used instead of a `Tenant` to retrieve the list of configured IdPs on a tenant.\n * When configuring these providers, note that tenants will inherit\n * whitelisted domains and authenticated redirect URIs of their parent project.\n *\n * All other settings of a tenant will also be inherited. These will need to be managed\n * from the Cloud Console UI.\n */\n\n\nvar Tenant =\n/** @class */\nfunction () {\n  /**\n   * The Tenant object constructor.\n   *\n   * @param response - The server side response used to initialize the Tenant object.\n   * @constructor\n   * @internal\n   */\n  function Tenant(response) {\n    var tenantId = Tenant.getTenantIdFromResourceName(response.name);\n\n    if (!tenantId) {\n      throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INTERNAL_ERROR, 'INTERNAL ASSERT FAILED: Invalid tenant response');\n    }\n\n    this.tenantId = tenantId;\n    this.displayName = response.displayName;\n\n    try {\n      this.emailSignInConfig_ = new auth_config_1.EmailSignInConfig(response);\n    } catch (e) {\n      // If allowPasswordSignup is undefined, it is disabled by default.\n      this.emailSignInConfig_ = new auth_config_1.EmailSignInConfig({\n        allowPasswordSignup: false\n      });\n    }\n\n    this.anonymousSignInEnabled = !!response.enableAnonymousUser;\n\n    if (typeof response.mfaConfig !== 'undefined') {\n      this.multiFactorConfig_ = new auth_config_1.MultiFactorAuthConfig(response.mfaConfig);\n    }\n\n    if (typeof response.testPhoneNumbers !== 'undefined') {\n      this.testPhoneNumbers = deep_copy_1.deepCopy(response.testPhoneNumbers || {});\n    }\n  }\n  /**\n   * Builds the corresponding server request for a TenantOptions object.\n   *\n   * @param tenantOptions - The properties to convert to a server request.\n   * @param createRequest - Whether this is a create request.\n   * @returns The equivalent server request.\n   *\n   * @internal\n   */\n\n\n  Tenant.buildServerRequest = function (tenantOptions, createRequest) {\n    var _a;\n\n    Tenant.validate(tenantOptions, createRequest);\n    var request = {};\n\n    if (typeof tenantOptions.emailSignInConfig !== 'undefined') {\n      request = auth_config_1.EmailSignInConfig.buildServerRequest(tenantOptions.emailSignInConfig);\n    }\n\n    if (typeof tenantOptions.displayName !== 'undefined') {\n      request.displayName = tenantOptions.displayName;\n    }\n\n    if (typeof tenantOptions.anonymousSignInEnabled !== 'undefined') {\n      request.enableAnonymousUser = tenantOptions.anonymousSignInEnabled;\n    }\n\n    if (typeof tenantOptions.multiFactorConfig !== 'undefined') {\n      request.mfaConfig = auth_config_1.MultiFactorAuthConfig.buildServerRequest(tenantOptions.multiFactorConfig);\n    }\n\n    if (typeof tenantOptions.testPhoneNumbers !== 'undefined') {\n      // null will clear existing test phone numbers. Translate to empty object.\n      request.testPhoneNumbers = (_a = tenantOptions.testPhoneNumbers) !== null && _a !== void 0 ? _a : {};\n    }\n\n    return request;\n  };\n  /**\n   * Returns the tenant ID corresponding to the resource name if available.\n   *\n   * @param resourceName - The server side resource name\n   * @returns The tenant ID corresponding to the resource, null otherwise.\n   *\n   * @internal\n   */\n\n\n  Tenant.getTenantIdFromResourceName = function (resourceName) {\n    // name is of form projects/project1/tenants/tenant1\n    var matchTenantRes = resourceName.match(/\\/tenants\\/(.*)$/);\n\n    if (!matchTenantRes || matchTenantRes.length < 2) {\n      return null;\n    }\n\n    return matchTenantRes[1];\n  };\n  /**\n   * Validates a tenant options object. Throws an error on failure.\n   *\n   * @param request - The tenant options object to validate.\n   * @param createRequest - Whether this is a create request.\n   */\n\n\n  Tenant.validate = function (request, createRequest) {\n    var validKeys = {\n      displayName: true,\n      emailSignInConfig: true,\n      anonymousSignInEnabled: true,\n      multiFactorConfig: true,\n      testPhoneNumbers: true\n    };\n    var label = createRequest ? 'CreateTenantRequest' : 'UpdateTenantRequest';\n\n    if (!validator.isNonNullObject(request)) {\n      throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, \"\\\"\" + label + \"\\\" must be a valid non-null object.\");\n    } // Check for unsupported top level attributes.\n\n\n    for (var key in request) {\n      if (!(key in validKeys)) {\n        throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, \"\\\"\" + key + \"\\\" is not a valid \" + label + \" parameter.\");\n      }\n    } // Validate displayName type if provided.\n\n\n    if (typeof request.displayName !== 'undefined' && !validator.isNonEmptyString(request.displayName)) {\n      throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, \"\\\"\" + label + \".displayName\\\" must be a valid non-empty string.\");\n    } // Validate emailSignInConfig type if provided.\n\n\n    if (typeof request.emailSignInConfig !== 'undefined') {\n      // This will throw an error if invalid.\n      auth_config_1.EmailSignInConfig.buildServerRequest(request.emailSignInConfig);\n    } // Validate test phone numbers if provided.\n\n\n    if (typeof request.testPhoneNumbers !== 'undefined' && request.testPhoneNumbers !== null) {\n      auth_config_1.validateTestPhoneNumbers(request.testPhoneNumbers);\n    } else if (request.testPhoneNumbers === null && createRequest) {\n      // null allowed only for update operations.\n      throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, \"\\\"\" + label + \".testPhoneNumbers\\\" must be a non-null object.\");\n    } // Validate multiFactorConfig type if provided.\n\n\n    if (typeof request.multiFactorConfig !== 'undefined') {\n      // This will throw an error if invalid.\n      auth_config_1.MultiFactorAuthConfig.buildServerRequest(request.multiFactorConfig);\n    }\n  };\n\n  Object.defineProperty(Tenant.prototype, \"emailSignInConfig\", {\n    /**\n     * The email sign in provider configuration.\n     */\n    get: function () {\n      return this.emailSignInConfig_;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Tenant.prototype, \"multiFactorConfig\", {\n    /**\n     * The multi-factor auth configuration on the current tenant.\n     */\n    get: function () {\n      return this.multiFactorConfig_;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * Returns a JSON-serializable representation of this object.\n   *\n   * @returns A JSON-serializable representation of this object.\n   */\n\n  Tenant.prototype.toJSON = function () {\n    var _a, _b;\n\n    var json = {\n      tenantId: this.tenantId,\n      displayName: this.displayName,\n      emailSignInConfig: (_a = this.emailSignInConfig_) === null || _a === void 0 ? void 0 : _a.toJSON(),\n      multiFactorConfig: (_b = this.multiFactorConfig_) === null || _b === void 0 ? void 0 : _b.toJSON(),\n      anonymousSignInEnabled: this.anonymousSignInEnabled,\n      testPhoneNumbers: this.testPhoneNumbers\n    };\n\n    if (typeof json.multiFactorConfig === 'undefined') {\n      delete json.multiFactorConfig;\n    }\n\n    if (typeof json.testPhoneNumbers === 'undefined') {\n      delete json.testPhoneNumbers;\n    }\n\n    return json;\n  };\n\n  return Tenant;\n}();\n\nexports.Tenant = Tenant;","map":{"version":3,"sources":["/Users/zarashipchandler/git_dir/TPEO/Week_6/homework/frontend/node_modules/firebase-admin/lib/auth/tenant.js"],"names":["Object","defineProperty","exports","value","Tenant","validator","require","deep_copy_1","error_1","auth_config_1","response","tenantId","getTenantIdFromResourceName","name","FirebaseAuthError","AuthClientErrorCode","INTERNAL_ERROR","displayName","emailSignInConfig_","EmailSignInConfig","e","allowPasswordSignup","anonymousSignInEnabled","enableAnonymousUser","mfaConfig","multiFactorConfig_","MultiFactorAuthConfig","testPhoneNumbers","deepCopy","buildServerRequest","tenantOptions","createRequest","_a","validate","request","emailSignInConfig","multiFactorConfig","resourceName","matchTenantRes","match","length","validKeys","label","isNonNullObject","INVALID_ARGUMENT","key","isNonEmptyString","validateTestPhoneNumbers","prototype","get","enumerable","configurable","toJSON","_b","json"],"mappings":"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","sourcesContent":["/*! firebase-admin v10.0.0 */\n\"use strict\";\n/*!\n * Copyright 2019 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Tenant = void 0;\nvar validator = require(\"../utils/validator\");\nvar deep_copy_1 = require(\"../utils/deep-copy\");\nvar error_1 = require(\"../utils/error\");\nvar auth_config_1 = require(\"./auth-config\");\n/**\n * Represents a tenant configuration.\n *\n * Multi-tenancy support requires Google Cloud's Identity Platform\n * (GCIP). To learn more about GCIP, including pricing and features,\n * see the {@link https://cloud.google.com/identity-platform | GCIP documentation}.\n *\n * Before multi-tenancy can be used on a Google Cloud Identity Platform project,\n * tenants must be allowed on that project via the Cloud Console UI.\n *\n * A tenant configuration provides information such as the display name, tenant\n * identifier and email authentication configuration.\n * For OIDC/SAML provider configuration management, `TenantAwareAuth` instances should\n * be used instead of a `Tenant` to retrieve the list of configured IdPs on a tenant.\n * When configuring these providers, note that tenants will inherit\n * whitelisted domains and authenticated redirect URIs of their parent project.\n *\n * All other settings of a tenant will also be inherited. These will need to be managed\n * from the Cloud Console UI.\n */\nvar Tenant = /** @class */ (function () {\n    /**\n     * The Tenant object constructor.\n     *\n     * @param response - The server side response used to initialize the Tenant object.\n     * @constructor\n     * @internal\n     */\n    function Tenant(response) {\n        var tenantId = Tenant.getTenantIdFromResourceName(response.name);\n        if (!tenantId) {\n            throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INTERNAL_ERROR, 'INTERNAL ASSERT FAILED: Invalid tenant response');\n        }\n        this.tenantId = tenantId;\n        this.displayName = response.displayName;\n        try {\n            this.emailSignInConfig_ = new auth_config_1.EmailSignInConfig(response);\n        }\n        catch (e) {\n            // If allowPasswordSignup is undefined, it is disabled by default.\n            this.emailSignInConfig_ = new auth_config_1.EmailSignInConfig({\n                allowPasswordSignup: false,\n            });\n        }\n        this.anonymousSignInEnabled = !!response.enableAnonymousUser;\n        if (typeof response.mfaConfig !== 'undefined') {\n            this.multiFactorConfig_ = new auth_config_1.MultiFactorAuthConfig(response.mfaConfig);\n        }\n        if (typeof response.testPhoneNumbers !== 'undefined') {\n            this.testPhoneNumbers = deep_copy_1.deepCopy(response.testPhoneNumbers || {});\n        }\n    }\n    /**\n     * Builds the corresponding server request for a TenantOptions object.\n     *\n     * @param tenantOptions - The properties to convert to a server request.\n     * @param createRequest - Whether this is a create request.\n     * @returns The equivalent server request.\n     *\n     * @internal\n     */\n    Tenant.buildServerRequest = function (tenantOptions, createRequest) {\n        var _a;\n        Tenant.validate(tenantOptions, createRequest);\n        var request = {};\n        if (typeof tenantOptions.emailSignInConfig !== 'undefined') {\n            request = auth_config_1.EmailSignInConfig.buildServerRequest(tenantOptions.emailSignInConfig);\n        }\n        if (typeof tenantOptions.displayName !== 'undefined') {\n            request.displayName = tenantOptions.displayName;\n        }\n        if (typeof tenantOptions.anonymousSignInEnabled !== 'undefined') {\n            request.enableAnonymousUser = tenantOptions.anonymousSignInEnabled;\n        }\n        if (typeof tenantOptions.multiFactorConfig !== 'undefined') {\n            request.mfaConfig = auth_config_1.MultiFactorAuthConfig.buildServerRequest(tenantOptions.multiFactorConfig);\n        }\n        if (typeof tenantOptions.testPhoneNumbers !== 'undefined') {\n            // null will clear existing test phone numbers. Translate to empty object.\n            request.testPhoneNumbers = (_a = tenantOptions.testPhoneNumbers) !== null && _a !== void 0 ? _a : {};\n        }\n        return request;\n    };\n    /**\n     * Returns the tenant ID corresponding to the resource name if available.\n     *\n     * @param resourceName - The server side resource name\n     * @returns The tenant ID corresponding to the resource, null otherwise.\n     *\n     * @internal\n     */\n    Tenant.getTenantIdFromResourceName = function (resourceName) {\n        // name is of form projects/project1/tenants/tenant1\n        var matchTenantRes = resourceName.match(/\\/tenants\\/(.*)$/);\n        if (!matchTenantRes || matchTenantRes.length < 2) {\n            return null;\n        }\n        return matchTenantRes[1];\n    };\n    /**\n     * Validates a tenant options object. Throws an error on failure.\n     *\n     * @param request - The tenant options object to validate.\n     * @param createRequest - Whether this is a create request.\n     */\n    Tenant.validate = function (request, createRequest) {\n        var validKeys = {\n            displayName: true,\n            emailSignInConfig: true,\n            anonymousSignInEnabled: true,\n            multiFactorConfig: true,\n            testPhoneNumbers: true,\n        };\n        var label = createRequest ? 'CreateTenantRequest' : 'UpdateTenantRequest';\n        if (!validator.isNonNullObject(request)) {\n            throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, \"\\\"\" + label + \"\\\" must be a valid non-null object.\");\n        }\n        // Check for unsupported top level attributes.\n        for (var key in request) {\n            if (!(key in validKeys)) {\n                throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, \"\\\"\" + key + \"\\\" is not a valid \" + label + \" parameter.\");\n            }\n        }\n        // Validate displayName type if provided.\n        if (typeof request.displayName !== 'undefined' &&\n            !validator.isNonEmptyString(request.displayName)) {\n            throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, \"\\\"\" + label + \".displayName\\\" must be a valid non-empty string.\");\n        }\n        // Validate emailSignInConfig type if provided.\n        if (typeof request.emailSignInConfig !== 'undefined') {\n            // This will throw an error if invalid.\n            auth_config_1.EmailSignInConfig.buildServerRequest(request.emailSignInConfig);\n        }\n        // Validate test phone numbers if provided.\n        if (typeof request.testPhoneNumbers !== 'undefined' &&\n            request.testPhoneNumbers !== null) {\n            auth_config_1.validateTestPhoneNumbers(request.testPhoneNumbers);\n        }\n        else if (request.testPhoneNumbers === null && createRequest) {\n            // null allowed only for update operations.\n            throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, \"\\\"\" + label + \".testPhoneNumbers\\\" must be a non-null object.\");\n        }\n        // Validate multiFactorConfig type if provided.\n        if (typeof request.multiFactorConfig !== 'undefined') {\n            // This will throw an error if invalid.\n            auth_config_1.MultiFactorAuthConfig.buildServerRequest(request.multiFactorConfig);\n        }\n    };\n    Object.defineProperty(Tenant.prototype, \"emailSignInConfig\", {\n        /**\n         * The email sign in provider configuration.\n         */\n        get: function () {\n            return this.emailSignInConfig_;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Tenant.prototype, \"multiFactorConfig\", {\n        /**\n         * The multi-factor auth configuration on the current tenant.\n         */\n        get: function () {\n            return this.multiFactorConfig_;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Returns a JSON-serializable representation of this object.\n     *\n     * @returns A JSON-serializable representation of this object.\n     */\n    Tenant.prototype.toJSON = function () {\n        var _a, _b;\n        var json = {\n            tenantId: this.tenantId,\n            displayName: this.displayName,\n            emailSignInConfig: (_a = this.emailSignInConfig_) === null || _a === void 0 ? void 0 : _a.toJSON(),\n            multiFactorConfig: (_b = this.multiFactorConfig_) === null || _b === void 0 ? void 0 : _b.toJSON(),\n            anonymousSignInEnabled: this.anonymousSignInEnabled,\n            testPhoneNumbers: this.testPhoneNumbers,\n        };\n        if (typeof json.multiFactorConfig === 'undefined') {\n            delete json.multiFactorConfig;\n        }\n        if (typeof json.testPhoneNumbers === 'undefined') {\n            delete json.testPhoneNumbers;\n        }\n        return json;\n    };\n    return Tenant;\n}());\nexports.Tenant = Tenant;\n"]},"metadata":{},"sourceType":"script"}